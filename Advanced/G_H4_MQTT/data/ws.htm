<!DOCTYPE html>
<html>
   <head>
   <meta name="viewport" content="width=device-width, initial-scale=1">
	<title id="ptit">%$100%</title>
	<link rel="stylesheet" type="text/css" href="esp.css">
	<script src="grf.js"></script>
	<script src="esp.js"></script>
   </head>
   <body>
		<div class="box">
			<div id="ioth">
            <div id="dflt"><img id="dio" class="hand 0" src="/0.png" title="IoT 'Thing'"onclick="nike(99);"></div>
				<div class="bn"><div id="lex">%$100%</div></div>
			</div>
         <div class="vn">Esparto v%$208%</div>
		</div>
		<div class="box" id="grass">
			<table >
			<tr id="titles" >
				<th>0</th>
				<th>1</th>
				<th>2</th>
				<th>3</th>
				<th>4</th>
				<th>5</th>
				<th>6</th>
				<th>7</th>
				<th>8</th>
				<th>9</th>
				<th>10</th>
				<th>11</th>
				<th>12</th>
				<th>13</th>
				<th>14</th>
				<th>15</th>
				<th>16</th>
				<th>17</th>
			</tr>
			<tr>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
			</tr>	
			<tr>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
				<td class="lbl">&nbsp;&nbsp;</td>
			</tr>
			<tr>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
				<td><div class="pin ld led-red"></div></td>
			</tr>	
			</table>
		</div>	
	<div id="btns" class="box">
		<div>
			<div id="wifitab"><img title="WiFi" class="hand wifi"></div>				
			<div id="mqtttab"><img title="MQTT" class="hand mqtt"></div>
			<div id="geartab"><img title="System" class="hand gear"></div>
			<div id="esptab"><img title="%$101%" class="hand esp"></div>
			<div id="tooltab"><img title="Config" class="hand tool"></div>
			<div id="runtab"><img title="Command" class="hand run"></div>
         <div id="dynptab"><img title="Pins" class="hand dynp"></div>	
         <div id="logstab"><img title="Log" class="hand logs"></div>	
         <div id="rtctab"><img title="RTC" class="hand rtc"></div>	
         <div id="urg"></div>
         <div id="prog"><div id="pbar"></div></div>
		</div>
      <hr id="huph">     
		<div id="hup">
			<div class="cmd" id="mq0" title="MQTT Status"><div id="mqLED" class="ld led-red"><span class="leg">m</span></div></div>
			<div class="hand cmd" id="lx0" title="Alexa Status"><div id="lxLED" class="ld led-red" onclick="nike(50);"><span class="leg">a</span></div></div>
         <div id="hart">
            <div class="cmd" id="hb"><div class="heart"></div></div>
         </div>
         <div class="cmd"><span id="hs2"></span></div>
         <div class="cmd"><div id="ck">00:00:00</div></div>
         <div class="cmd"><div class="dk3">&nbsp;Up:</div><div id="ut">00d 00:00:00</div></div>
         <div class="cmd"><div class="dk3">&nbsp;Views:</div><div class="dk3"id="nv">0</div></div>
         <div class="cmd"><span id="hs">&nbsp;</span></div>
         <div class="cmd"><img title="Reboot" onclick="nike(40);" class="hand boot"></div>
         <div class="cmd"><img onclick="nike(64);" class="hand fact" title="*FACTORY RESET*"></div>            
		</div>
	</div>			
					
	<div id="wifi" class="box eph wifi">
      <form onsubmit="postForm(event);">
         <input name="fid" type="hidden" value="wifi" />
         <div class="fel"><label class="dk">Admin User:</label><input name="au" value="%$108%"></div>
         <div class="fel"><label class="dk">Password:</label><input name="ap" type="password" value="%$109%"></div>         
         <hr>
         <div class="fel"><label class="dk" for="newname">Device:</label><input name="newname" required value="%$101%"></div>
         <div id="lxinfo">
            <div class="fel"><label class="dk" for="lexname">Alexa Name:</label><input id="lexname" name="lexname" required value="%$100%"></div>
         </div>
         <div class="fel"><label class="dk" for="ssidx">SSID:</label><select id="ssidx" required name="ssid"></select></div>     
         <div class="fel"><label class="dk" for="pw">Password:</label><input type="password" name="pw" value="%$106%"></div>
         <hr>            
         <div class="fel"><label>&nbsp;</label><button type="submit">Update Details</button></div>
      </form>
	</div>
   
	<div id="mqtt" class="box eph mqtt">
      <form onsubmit="postForm(event);">
         <input name="fid" type="hidden" value="mqtt" />
         <div id="ml0" class="fel"><label class="dk" >Publish Stats:</label><div id="mlLED" class="sth hand ld led-red" onclick="mqttControl(this);" value="$11"></div></div>
         <div id="mv0" class="fel"><label class="dk" >Publish Vars:</label><div id="mvLED" class="sth hand ld led-red" onclick="mqttControl(this);" value="$12"></div></div>
         <hr>
         <div class="fel"><label class="dk" for="mqi">MQTT IP:</label><input id="X102" name="mqi" value="%$102%"></div>
         <div class="fel"><label class="dk" for="mqn">Port:</label><input id="X104" numeric name="mqn" value="%$104%"></div>                
         <div class="fel"><label class="dk" for="mqu">MQTT User:</label><input id="X105" name="mqu" value="%$105%"></div>
         <div class="fel"><label class="dk" for="mqp">Password:</label><input id="X103" name="mqp" type="password" value="%$103%"></div>   
         <div class="fel"><label class="dk" for="mwt">Will Topic:</label><input id="X110" name="mwt" value="%$110%"></div>
         <div class="fel"><label class="dk" for="mwm">Will Msg:</label><input id="X111" name="mwm" value="%$111%"></div>   
         <div class="fel"><label>&nbsp;</label><button type="submit">Change Broker</button></div>
      </form>
	</div>
   
	<div id="esp" class="box eph esp">
			<div ><div class="dk">Device</div>&nbsp;<div class="lt">%$101%</div></div>
			<div ><div class="dk">Board</div>&nbsp;<div class="lt">%$207%</div></div>
			<div ><div class="dk">Topic</div>&nbsp;<div class="lt">%$203%</div></div>
			<div ><div class="dk">Chip</div>&nbsp;<div class="lt">%$202%</div></div>
			<div ><div class="dk">IP</div>&nbsp;<div class="lt">%$205%</div></div>
         <hr>
			<div ><div class="dk">Lwip</div>&nbsp;<div class="lt">%$204%</div></div>
			<div ><div class="dk">Sdk</div>&nbsp;<div class="lt">%$213%</div></div>
			<div ><div class="dk">Core</div>&nbsp;<div class="lt">%$214%</div></div>
         <hr>
			<div ><div class="dk">Flash</div>&nbsp;<div class="lt">%$206%</div></div>
			<div ><div class="dk">Flash Freq</div>&nbsp;<div class="lt">%$211%</div></div>
			<div ><div class="dk">Flash Mode</div>&nbsp;<div class="lt">%$212%</div></div>
         <hr>
			<div ><div class="dk">Max SPIFFS</div>&nbsp;<div class="lt">%$210%</div></div>
			<div ><div class="dk">Max OTA</div>&nbsp;<div class="lt">%$209%</div></div>
			<div ><div class="dk">Sketch</div>&nbsp;<div class="lt">%$215%</div></div>
         <hr>
			<div ><div class="dk">NBoot</div>&nbsp;<div class="lt">%$200%</div></div>
			<div ><div class="dk">Code</div>&nbsp;<div class="lt">%$201%</div></div>
     
       <form id="ota" enctype="multipart/form-data" method="post">
            <hr>
            <div class="bn"><div class="bnb">Updates</div></div>
            <hr>
            <div class="fel"><label class="dk" >SPIFFS</label><input id="ota100" omax="" name="spf" type="file" /></div>
            <div class="fel"><label>&nbsp;</label><button cmd="100" onclick="fup(this);" type="submit">"Update SPIFFS"</button></div>
            <br>
            <div class="fel"><label class="dk" >Firmware</label><input id="ota0" omax="" name="ota" type="file" /></div>
            <div class="fel"><label>&nbsp;</label><button cmd="0" onclick="fup(this);" type="submit" >"Update Firmware"</button></div>
      </form>    
	</div>
	
	<div id="gear" class="box eph gear"></div>
	
	<div id="tool" class="box eph tool"></div>
		
	<div id="run" class="box eph run">
		<div id="tcmd">
			<div ><div class="dk">Topics:</div>&nbsp;<div class="lt"><select id="csel" required onchange="selchange(event);">       
         </select></div></div>
			<div ><div class="dk">Topic:</div>&nbsp;<div class="lt"><input id="invoke" required></div></div>
			<div ><div class="dk">Payload:</div>&nbsp;<div class="lt"><input id="payload"></div></div>
			<div ><div class="dk">&nbsp;</div>&nbsp;<div class="lt"><button onclick="doInvoke(event);" id="doit">Simulate MQTT</button></div></div>
		</div>
	</div>
<!--   
   <div id="dynp" class="box eph dynp">
   	<div id="dfd">
			<form onsubmit="postForm(event);">
            <input name="fid" type="hidden" value="dynp" />
            <fieldset id="fsp" disabled>
               <legend>GPIO Pin</legend>
               <div class="fel"><label for="dpsel">Pin</label><input id="dpsel" name="dpa" disabled required value="click red pin #"/></div>
               <div class="fel">
                  <label for="selstyle">Type</label>
                  <select id="selstyle" name="dpb" onChange="dpstyleChange(event.target);">
                     <option value="0" selected>[select pin type]</option>                    
                     <option value="3">DEBOUNCED</option>
                     <option value="12">DEFAULT OUTPUT</option>
                     <option value="7">ENCODER</option>
                     <option value="8">ENCODER AUTO</option>
                     <option value="4">FILTERED</option>	
                     <option value="5">LATCHING</option>
                     <option value="2">OUTPUT</option>
                     <option value="11">POLLED</option>                   
                     <option value="1">RAW</option>
                     <option value="9">REPORTING</option>
                     <option value="6">RETRIGGERING</option>
                     <option value="13">DEFAULT INPUT</option>                     
                     <option value="10">TIMED</option>
                  </select>
               </div>
               <div id="dpextra">               
               </div>
            </fieldset>
            <fieldset id="fsa" disabled>
               <legend>Action</legend>
               <input type="hidden" name="dph" value="ax">
               <div class="fel">
                  <label for="axion">On Change</label>
                  <select id="axion" name="dpi">                   
                     <option value= "0">[when pin changes...]</option>
                     <option value= "1">No Action</option>
                     <option value= "3">Output Passthru</option>
                     <option value= "2">Publish Pin Value</option>
                     <option value= "9">Publish Var Value</option>                    
                     <option value= "4">Set Var (Pin)</option>
                     <option value= "5">Set Var (Param)</option>
                     <option value= "6">Dec Var</option>
                     <option value= "7">Inc Var</option>
                     <option value= "10">Add to Var</option>
                     <option value= "11">Sub from Var</option>
                     <option value= "8">Command</option>                                                                              
                     <option value= "12">Flash LED</option>
                     <option value= "16">Pulse LED</option>
                     <option value= "13">Flash LED PWM</option>
                     <option value= "14">Flash LED Pattern</option>
                     <option value= "15">Stop LED Flash</option>
                  </select>
               </div>
               <div id="axdata">
               </div>
            </fieldset>
            <fieldset id="fsk" disabled>
               <legend>Retain</legend>
               <div>
                     <span class="sm">&nbsp;</span>
                     <span>&nbsp;&nbsp;&nbsp;YES</span>
                     <input id="dpky" type="radio" name="dpx" value="1"></input>
                     <span>NO</span>
                     <input id="dpkn" type="radio" name="dpx" value="0" checked></input> 
               </div>
               <div>
                     <span class="sm">&nbsp;</span>
                     <span class="sm"><button id="crp" type="submit">Create Pin</button></span>
               </div>
            </fieldset>
			</form>
		</div>   
	</div>
 -->  
	<div id="logs" class="box eph logs">
      <textarea id="clog"></textarea>
	</div>
   <div id="rtc" class="box eph rtc">
		<div ><div class="dk">Date</div>&nbsp;<div class="lt">%$216%</div></div>
      <form onsubmit="postForm(event);">
         <input name="fid" type="hidden" value="rtc" />
         <div class="fel"><label class="dk" for="srv1">Server 1</label><input id="X113" required name="srv1" value="%$113%"></div>
         <div class="fel"><label class="dk" for="srv2">Server 2</label><input id="X114" required name="srv2" value="%$114%"></div>                
         <div class="fel"><label class="dk" for="tz">GMT Offset</label><input id="X112" numeric required name="tz" value="%$112%"></div>
         <div class="fel"><label>&nbsp;</label><button type="submit">Change NTP</button></div>
      </form>
      <hr>
      <div>Scheduled Alarms</div>
      <div id="rtca">
         <div><input id="rtct" type="time"></div>
         <div id="rtcl" class="hand ld led-red" onclick="rtcl(this);"></div>
         <div><input id="rtcd" type="checkbox"><label for="rtcd">Daily</label></div>
         <div  class="hand" onclick="addAlarm();" id="rtcx">+</div>
      </div>
      <div id="shed"></div>
	</div>
      
   <div id="donate" class="box">
      <center>
         Buying me a coffee helps keep me motivated to keep Esparto bug-free and er ...plain "free". It's a lot of work. If it has helped you, I'd appreciate a small sign
<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick" />
<input type="hidden" name="hosted_button_id" value="NVJKW6HEH5AES" />
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" />
<img alt="" border="0" src="https://www.paypal.com/en_FR/i/scr/pixel.gif" width="1" height="1" />
</form>
<div>
   <div class="lnk"><a href="https://8266iot.blogspot.com" rel="noopener" target="_blank">Tips / Hints / More Info</a></div>
   <div class="lnk"><a href="https://www.facebook.com/groups/597324830744576/" rel="noopener" target="_blank">Facebook Help Forum</a></div>
   <div class="lnk"><a href="https://www.github.com/philbowles/esparto/" rel="noopener" target="_blank">Github Repository</a></div>
</div>
      </center>
   </div>
</html>